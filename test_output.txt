   Compiling sempal v9.0.0 (X:\sempal)
warning: unused import: `std::net::TcpListener`
   --> src\issue_gateway\api.rs:329:9
    |
329 |     use std::net::TcpListener;
    |         ^^^^^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused imports: `Arc` and `Mutex`
   --> src\issue_gateway\api.rs:330:21
    |
330 |     use std::sync::{Arc, Mutex};
    |                     ^^^  ^^^^^

warning: unused import: `std::thread`
   --> src\issue_gateway\api.rs:331:9
    |
331 |     use std::thread;
    |         ^^^^^^^^^^^

warning: unused import: `std::fs`
 --> src\sample_sources\library\tests.rs:4:5
  |
4 | use std::fs;
  |     ^^^^^^^

warning: unused imports: `rodio_reader` and `wav_reader`
  --> src\waveform\decode\decode.rs:45:35
   |
45 |     use crate::waveform::decode::{rodio_reader, wav_reader};
   |                                   ^^^^^^^^^^^^  ^^^^^^^^^^

warning: use of deprecated method `egui::Ui::allocate_ui_at_rect`: Use `allocate_new_ui` instead
   --> src\egui_app\ui\sources_panel\mod.rs:170:16
    |
170 |             ui.allocate_ui_at_rect(folder_rect, |ui| {
    |                ^^^^^^^^^^^^^^^^^^^
    |
    = note: `#[warn(deprecated)]` on by default

warning: use of deprecated method `egui::Ui::allocate_ui_at_rect`: Use `allocate_new_ui` instead
   --> src\egui_app\ui\sources_panel\mod.rs:181:16
    |
181 |             ui.allocate_ui_at_rect(drop_targets_rect, |ui| {
    |                ^^^^^^^^^^^^^^^^^^^

warning: variable does not need to be mutable
  --> src\egui_app\ui\sources_panel\mod.rs:86:17
   |
86 |             let mut drop_targets_height = self
   |                 ----^^^^^^^^^^^^^^^^^^^
   |                 |
   |                 help: remove this `mut`
   |
   = note: `#[warn(unused_mut)]` (part of `#[warn(unused)]`) on by default

warning: variable does not need to be mutable
  --> src\http_client.rs:69:9
   |
69 |     let mut reader = response.into_reader();
   |         ----^^^^^^
   |         |
   |         help: remove this `mut`

warning: variable does not need to be mutable
  --> src\http_client.rs:89:9
   |
89 |     let mut reader = response.into_reader();
   |         ----^^^^^^
   |         |
   |         help: remove this `mut`

warning: unused variable: `dir`
   --> src\issue_gateway\token_store.rs:501:20
    |
501 | fn sync_parent_dir(dir: &Path) -> Result<(), IssueTokenStoreError> {
    |                    ^^^ help: if this is intentional, prefix it with an underscore: `_dir`
    |
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: variable does not need to be mutable
   --> src\wav_sanitize.rs:186:9
    |
186 |     let mut changed = false;
    |         ----^^^^^^^
    |         |
    |         help: remove this `mut`

warning: variable does not need to be mutable
   --> src\waveform\mod.rs:383:9
    |
383 |     let mut file = std::fs::File::open(path).map_err(|source| WaveformLoadError::Read {
    |         ----^^^^
    |         |
    |         help: remove this `mut`

warning: field `channels` is never read
  --> src\egui_app\controller\state\audio.rs:89:16
   |
82 | pub(crate) struct LoadedAudio {
   |                   ----------- field in this struct
...
89 |     pub(crate) channels: u16,
   |                ^^^^^^^^
   |
   = note: `LoadedAudio` has a derived impl for the trait `Clone`, but this is intentionally ignored during dead code analysis
   = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: constant `LEGACY_SCHEMA_SQL` is never used
  --> src\sample_sources\library\tests.rs:12:7
   |
12 | const LEGACY_SCHEMA_SQL: &str = r#"
   |       ^^^^^^^^^^^^^^^^^

warning: function `create_legacy_schema` is never used
  --> src\sample_sources\library\tests.rs:69:4
   |
69 | fn create_legacy_schema(conn: &Connection) {
   |    ^^^^^^^^^^^^^^^^^^^^

warning: function `table_columns` is never used
  --> src\sample_sources\library\tests.rs:73:4
   |
73 | fn table_columns(conn: &Connection, table: &str) -> HashSet<String> {
   |    ^^^^^^^^^^^^^

warning: function `assert_table_exists` is never used
  --> src\sample_sources\library\tests.rs:83:4
   |
83 | fn assert_table_exists(conn: &Connection, table: &str) {
   |    ^^^^^^^^^^^^^^^^^^^

warning: function `assert_has_columns` is never used
  --> src\sample_sources\library\tests.rs:95:4
   |
95 | fn assert_has_columns(conn: &Connection, table: &str, columns: &[&str]) {
   |    ^^^^^^^^^^^^^^^^^^

warning: function `reset_rodio_decode_count` is never used
   --> src\waveform\decode\rodio_reader.rs:167:15
    |
167 | pub(super) fn reset_rodio_decode_count() {
    |               ^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `rodio_decode_count` is never used
   --> src\waveform\decode\rodio_reader.rs:172:15
    |
172 | pub(super) fn rodio_decode_count() -> usize {
    |               ^^^^^^^^^^^^^^^^^^

warning: function `reset_wav_decode_count` is never used
  --> src\waveform\decode\wav_reader.rs:91:15
   |
91 | pub(super) fn reset_wav_decode_count() {
   |               ^^^^^^^^^^^^^^^^^^^^^^

warning: function `wav_decode_count` is never used
  --> src\waveform\decode\wav_reader.rs:96:15
   |
96 | pub(super) fn wav_decode_count() -> usize {
   |               ^^^^^^^^^^^^^^^^

warning: `sempal` (lib test) generated 23 warnings (run `cargo fix --lib -p sempal --tests` to apply 11 suggestions)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 47.41s
     Running unittests src\lib.rs (target\debug\deps\sempal-cf0c120d744f3571.exe)

running 1 test

thread 'egui_app::controller::tests::browser_actions::rating_auto_advance_works' (27876) panicked at src\egui_app\controller\playback\tagging.rs:259:9:
DEBUG: adjust_selected_rating failed to advance: advance=false selected_visible=Some(0) primary_row=0 visible_len=3
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
DEBUG: LibraryDatabase::open at "C:\\Users\\WANJA~1.SVA\\AppData\\Local\\Temp\\.tmpvnbln0\\.sempal\\library.db"
test egui_app::controller::tests::browser_actions::rating_auto_advance_works ... FAILED

failures:

failures:
    egui_app::controller::tests::browser_actions::rating_auto_advance_works

test result: FAILED. 0 passed; 1 failed; 0 ignored; 0 measured; 608 filtered out; finished in 0.23s

error: test failed, to rerun pass `--lib`
