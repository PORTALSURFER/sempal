   Compiling serde_core v1.0.228
   Compiling winapi-util v0.1.11
   Compiling bindgen v0.72.1
   Compiling ndarray-stats v0.6.0
   Compiling tracing-subscriber v0.3.22
   Compiling sysinfo v0.37.2
   Compiling ciborium-ll v0.2.2
   Compiling alloca v0.4.0
   Compiling same-file v1.0.6
   Compiling walkdir v2.5.0
   Compiling linfa-nn v0.8.0
   Compiling linfa-kernel v0.8.0
   Compiling linfa-reduction v0.8.0
   Compiling tracing-appender v0.2.4
   Compiling serde v1.0.228
   Compiling serde_json v1.0.146
   Compiling csv v1.4.0
   Compiling uuid v1.19.0
   Compiling bhtsne v0.4.1
   Compiling url v2.5.7
   Compiling serde_spanned v0.6.9
   Compiling toml_datetime v0.6.11
   Compiling bincode v1.3.3
   Compiling linfa-tsne v0.8.0
   Compiling ciborium v0.2.2
   Compiling toml_edit v0.22.27
   Compiling tinytemplate v1.2.1
   Compiling hnsw_rs v0.3.3
   Compiling webbrowser v1.0.6
   Compiling ureq v2.12.1
   Compiling egui-winit v0.33.3
   Compiling criterion v0.8.1
   Compiling eframe v0.33.3
   Compiling asio-sys v0.2.4
   Compiling toml v0.8.23
   Compiling cpal v0.16.0
   Compiling rodio v0.21.1
   Compiling sempal v9.0.0 (X:\sempal)
warning: unused import: `WavEntry`
 --> src\egui_app\controller\library\wavs\browser_search_worker.rs:3:37
  |
3 | use crate::sample_sources::{Rating, WavEntry};
  |                                     ^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `super::super::*`
 --> src\egui_app\controller\tests\waveform_nav_cursor.rs:2:5
  |
2 | use super::super::*;
  |     ^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `std::io::Write`
   --> src\wav_sanitize.rs:323:9
    |
323 |     use std::io::Write;
    |         ^^^^^^^^^^^^^^

warning: unused import: `Write`
   --> src\wav_sanitize.rs:374:29
    |
374 |         use std::io::{Read, Write};
    |                             ^^^^^

warning: use of deprecated associated function `egui::ComboBox::from_id_source`: Renamed from_id_salt
   --> src\egui_app\ui\sample_browser_filter.rs:103:29
    |
103 |             egui::ComboBox::from_id_source("browser_sort")
    |                             ^^^^^^^^^^^^^^
    |
    = note: `#[warn(deprecated)]` on by default

warning: use of deprecated method `egui::Ui::allocate_ui_at_rect`: Use `allocate_new_ui` instead
   --> src\egui_app\ui\sources_panel\mod.rs:170:16
    |
170 |             ui.allocate_ui_at_rect(folder_rect, |ui| {
    |                ^^^^^^^^^^^^^^^^^^^

warning: use of deprecated method `egui::Ui::allocate_ui_at_rect`: Use `allocate_new_ui` instead
   --> src\egui_app\ui\sources_panel\mod.rs:181:16
    |
181 |             ui.allocate_ui_at_rect(drop_targets_rect, |ui| {
    |                ^^^^^^^^^^^^^^^^^^^

warning: variable does not need to be mutable
  --> src\egui_app\ui\sources_panel\mod.rs:86:17
   |
86 |             let mut drop_targets_height = self
   |                 ----^^^^^^^^^^^^^^^^^^^
   |                 |
   |                 help: remove this `mut`
   |
   = note: `#[warn(unused_mut)]` (part of `#[warn(unused)]`) on by default

warning: variable does not need to be mutable
  --> src\http_client.rs:69:9
   |
69 |     let mut reader = response.into_reader();
   |         ----^^^^^^
   |         |
   |         help: remove this `mut`

warning: variable does not need to be mutable
  --> src\http_client.rs:89:9
   |
89 |     let mut reader = response.into_reader();
   |         ----^^^^^^
   |         |
   |         help: remove this `mut`

warning: unused variable: `dir`
   --> src\issue_gateway\token_store.rs:495:20
    |
495 | fn sync_parent_dir(dir: &Path) -> Result<(), IssueTokenStoreError> {
    |                    ^^^ help: if this is intentional, prefix it with an underscore: `_dir`
    |
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: variable does not need to be mutable
   --> src\wav_sanitize.rs:186:9
    |
186 |     let mut changed = false;
    |         ----^^^^^^^
    |         |
    |         help: remove this `mut`

warning: variable does not need to be mutable
   --> src\waveform\mod.rs:383:9
    |
383 |     let mut file = std::fs::File::open(path).map_err(|source| WaveformLoadError::Read {
    |         ----^^^^
    |         |
    |         help: remove this `mut`

warning: function `save_legacy_id_map` is never used
  --> src\analysis\ann_index\storage.rs:85:15
   |
85 | pub(crate) fn save_legacy_id_map(path: &Path, id_map: &[String]) -> Result<(), String> {
   |               ^^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: field `channels` is never read
  --> src\egui_app\controller\state\audio.rs:89:16
   |
82 | pub(crate) struct LoadedAudio {
   |                   ----------- field in this struct
...
89 |     pub(crate) channels: u16,
   |                ^^^^^^^^
   |
   = note: `LoadedAudio` has a derived impl for the trait `Clone`, but this is intentionally ignored during dead code analysis

warning: field `progress_cache` is never read
  --> src\egui_app\controller\library\analysis_jobs\pool\mod.rs:36:5
   |
24 | pub(crate) struct AnalysisWorkerPool {
   |                   ------------------ field in this struct
...
36 |     progress_cache: Arc<RwLock<ProgressCache>>,
   |     ^^^^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: `sempal` (lib) generated 12 warnings (run `cargo fix --lib -p sempal` to apply 7 suggestions)
warning: `sempal` (lib test) generated 14 warnings (10 duplicates) (run `cargo fix --lib -p sempal --tests` to apply 3 suggestions)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 8m 08s
     Running unittests src\lib.rs (target\debug\deps\sempal-cf0c120d744f3571.exe)

running 615 tests
test analysis::ann_index::container::tests::ann_container_rejects_inconsistent_graph_offset ... ok
test analysis::ann_index::container::tests::ann_container_rejects_offset_overflow ... ok
test analysis::ann_index::container::tests::ann_container_rejects_oversized_model_id_len ... ok
test analysis::audio::analysis_prep::tests::downmix_averages_channels ... ok
test analysis::audio::analysis_prep::tests::pad_to_min_duration_extends_short_samples ... ok
test analysis::audio::analysis_prep::tests::energy_windowing_limits_long_samples ... ok
test analysis::audio::decode_io::tests::decode_for_analysis_decodes_wav_to_target_rate ... ok
test analysis::audio::decode_io::tests::decode_for_analysis_trims_leading_and_trailing_silence ... ok
test analysis::audio::normalize::tests::normalize_peak_scales_to_unit_peak ... ok
test analysis::ann_index_tests::ann_index_container_round_trip_loads ... ok
test analysis::audio::decode_io::tests::quiet_samples_are_not_trimmed_to_empty ... ok
test analysis::audio::decode_io::tests::wav_probe_reads_duration_without_full_decode ... ok
test analysis::audio::normalize::tests::normalize_rms_targets_expected_level ... ok
test analysis::audio::normalize::tests::sanitize_samples_removes_nan_and_denormals ... ok
test analysis::audio::resample::tests::resample_linear_preserves_endpoints_for_ramp ... ok
test analysis::ann_index_tests::ann_index_incremental_update_matches_full_rebuild ... ok
test analysis::audio::silence::tests::detect_non_silent_ranges_splits_on_silence ... ok
test analysis::audio::silence::tests::silence_hysteresis_keeps_audio_through_off_threshold ... ok
test analysis::fft::tests::fft_plan_matches_plain_fft ... ok
test analysis::fft::tests::fft_produces_expected_bin_for_constant_signal ... ok
test analysis::fft::tests::hann_window_is_symmetric_and_zero_at_edges ... ok
test analysis::frequency_domain::mel::tests::mfcc_from_power_returns_expected_length ... ok
test analysis::hdbscan::mapping::tests::assigns_noise_points_to_nearest_centroid ... ok
test analysis::hdbscan::mapping::tests::assigns_single_cluster_when_everything_is_noise ... ok
test analysis::hdbscan::engine::tests::assigns_single_cluster_for_tiny_datasets ... ok
test analysis::frequency_domain::stft::tests::compute_frames_returns_at_least_one_frame ... ok
test analysis::hdbscan::mapping::tests::remaps_labels_deterministically ... ok
test analysis::hdbscan::validation::tests::rejects_empty_input ... ok
test analysis::frequency_domain::tests::mfcc_is_deterministic_for_same_input ... ok
test analysis::frequency_domain::tests::sine_wave_centroid_tracks_frequency ... ok
test analysis::hdbscan::validation::tests::rejects_invalid_config ... ok
test analysis::similarity::tests::embedding_from_features_normalizes_l2 ... ok
test analysis::similarity::tests::embedding_from_features_rejects_nan_vector ... ok
test analysis::similarity::tests::embedding_from_features_rejects_wrong_length ... ok
test analysis::similarity::tests::embedding_from_features_rejects_zero_vector ... ok
test analysis::time_domain::tests::alternating_signal_has_high_zero_crossing_rate ... ok
test analysis::time_domain::tests::multiple_pulses_count_as_multiple_onsets ... ok
test analysis::vector::tests::decode_blob_rejects_non_multiple_of_4 ... ok
test analysis::vector::tests::decode_blob_round_trips ... ok
test analysis::time_domain::tests::constant_signal_has_expected_features ... ok
test analysis::vector::tests::encode_blob_is_little_endian ... ok
test analysis::vector::tests::vector_v1_has_stable_length ... ok
test audio::input::enumerate::tests::sample_rate_filter_returns_common_values ... ok
test audio::input::resolve::tests::pick_stream_config_marks_fallback_when_rate_missing ... ok
test audio::input::resolve::tests::resolve_selected_input_channels_falls_back_when_out_of_range ... ok
test audio::input::tests::deserialize_input_channels_accepts_single_value ... ok
test audio::output::tests::default_config_has_no_preferences ... ok
test audio::output::tests::sample_rate_filter_returns_common_values ... ok
test audio::tests::fade::edge_fade_handles_tiny_segments ... ok
test audio::tests::fade::edge_fade_ramps_start_samples ... ok
test audio::tests::fade::edge_fade_tracks_frames_for_multichannel ... ok
test audio::tests::fade::fade_duration_clamps_to_span_length ... ok
test audio::tests::fade::fade_out_on_request_ramps_to_zero_and_stops ... ok
test audio::tests::player::aligned_span_seconds_snaps_to_frames ... ok
test analysis::ann_index_tests::ann_index_legacy_migrates_to_container ... ok
test app_dirs::tests::uses_override_for_root_dir ... ok
test audio::recording::tests::wav_writer_outputs_float_wav ... ok
test app_dirs::tests::reapplies_test_override_when_cleared ... ok
test analysis::tests::computes_feature_vector_v1_for_wav ... ok
test analysis::ann_index_tests::ann_index_matches_bruteforce_neighbors_on_fixture ... ok
test audio::tests::decode::decode_handles_varied_sample_rates_and_channels ... ok
test audio::tests::player::remaining_loop_duration_accounts_for_full_track_offset ... ok
test audio::tests::player::play_range_accepts_zero_width_request ... ok
test audio::tests::player::play_looped_range_from_keeps_full_span ... ok
test audio::tests::player::progress_wraps_full_loop_from_offset ... ok
test audio::tests::player::span_pipeline_preserves_sample_count ... ok
test audio::tests::player::play_range_at_track_end_expands_backwards ... ok
test audio::tests::playhead_edges::normalized_progress_handles_tiny_selection_near_end ... ok
test audio::tests::player::progress_uses_elapsed_override_for_looping ... ok
test audio::tests::player::remaining_loop_duration_none_when_not_looping ... ok
test audio::tests::routing::normalized_progress_handles_elapsed_beyond_span ... ok
test audio::tests::routing::normalized_progress_handles_full_track ... ok
test audio::tests::routing::normalized_progress_loops_within_range ... ok
test audio::tests::routing::normalized_progress_respects_span ... ok
test audio::tests::player::remaining_loop_duration_reports_time_left_in_cycle ... ok
test audio::tests::routing::normalized_progress_returns_none_when_invalid_duration ... ok
test audio::tests::routing::normalized_progress_wraps_partial_selection_when_looping ... ok
test audio::time_stretch::tests::wsola_preserves_silence ... ok
test egui_app::controller::library::analysis_jobs::db::tests::claim_next_job_marks_running_and_increments_attempts ... ok
test audio::tests::player::remaining_loop_duration_uses_elapsed_override ... ok
test egui_app::controller::library::analysis_jobs::db::tests::enqueue_jobs_dedupes_by_sample_and_type ... ok
test audio::tests::player::span_sample_count_tracks_requested_window ... ok
test egui_app::controller::library::analysis_jobs::db::tests::fail_stale_running_jobs_marks_failed ... ok
test egui_app::controller::library::analysis_jobs::db::tests::fail_stale_running_jobs_ignores_recent_claims ... ok
test egui_app::controller::library::analysis_jobs::db::tests::mark_failed_updates_status_and_error ... ok
test audio::time_stretch::tests::wsola_keeps_length_near_ratio ... ok
test egui_app::controller::library::analysis_jobs::db::tests::mark_done_clears_error_and_updates_status ... ok
test audio::tests::player::set_audio_prefers_provided_duration ... ok
test audio::tests::playhead_edges::progress_math_is_stable_for_long_running_full_track_loops ... ok
test egui_app::controller::library::analysis_jobs::db::tests::progress_uses_relative_path_over_sample_id ... ok
test egui_app::controller::library::analysis_jobs::db::tests::prune_jobs_for_missing_sources_removes_orphans ... ok
test egui_app::controller::library::analysis_jobs::db::tests::purge_orphaned_samples_removes_rows_from_all_tables ... ok
test audio::tests::player::set_audio_falls_back_to_header ... ok
test egui_app::controller::library::analysis_jobs::db::tests::reset_running_to_pending_updates_rows ... ok
test audio::tests::playhead_edges::remaining_loop_duration_stays_within_span_on_long_elapsed ... ok
test egui_app::controller::library::analysis_jobs::db::tests::upsert_analysis_features_overwrites_existing ... ok
test egui_app::controller::library::analysis_jobs::db::tests::sample_bpm_round_trips ... ok
test egui_app::controller::library::analysis_jobs::db::tests::update_analysis_metadata_updates_matching_hash ... ok
test egui_app::controller::library::analysis_jobs::db::tests::update_sample_bpms_updates_multiple_rows ... ok
test egui_app::controller::library::analysis_jobs::enqueue::tests::backfill_enqueues_when_source_has_no_features ... ok
test egui_app::controller::library::analysis_jobs::enqueue::tests::backfill_invalidates_when_analysis_version_stale ... ok
test egui_app::controller::library::analysis_jobs::enqueue::tests::backfill_full_enqueues_even_when_up_to_date ... ok
test egui_app::controller::library::analysis_jobs::enqueue::tests::embedding_backfill_enqueues_missing_or_mismatched ... ok
test egui_app::controller::library::analysis_jobs::pool::job_claim::claim::tests::claim_batch_size_defaults_when_invalid ... ok
test egui_app::controller::library::analysis_jobs::pool::job_claim::claim::tests::claim_batch_size_respects_env_override ... ok
test egui_app::controller::library::analysis_jobs::pool::job_claim::dedup::tests::inflight_prevents_duplicates_until_cleared ... ok
test egui_app::controller::library::analysis_jobs::pool::job_claim::dedup::tests::mark_pending_dedups_and_allows_reclaim ... ok
test egui_app::controller::library::analysis_jobs::pool::job_claim::queue::tests::poisoned_queue_lock_recovers_on_push ... ok
test egui_app::controller::library::analysis_jobs::pool::job_claim::queue::tests::pop_allows_reclaim_after_pending_cleared ... ok
test egui_app::controller::library::analysis_jobs::failures::tests::loads_failed_jobs_for_source ... ok
test egui_app::controller::library::analysis_jobs::pool::job_claim::queue::tests::push_dedups_pending_jobs ... ok
test egui_app::controller::library::analysis_jobs::pool::job_claim::queue::tests::try_mark_inflight_blocks_duplicates ... ok
test egui_app::controller::library::analysis_jobs::enqueue::tests::backfill_invalidates_when_content_hash_changes ... ok
test egui_app::controller::library::analysis_jobs::pool::job_claim::queue::tests::push_blocks_until_space_is_available ... ok
test egui_app::controller::library::analysis_jobs::enqueue::tests::enqueue_invalidates_when_analysis_version_stale ... ok
test egui_app::controller::library::analysis_jobs::pool::job_claim::tests::clears_inflight_when_db_open_fails ... ok
test egui_app::controller::library::analysis_jobs::pool::job_execution::backfill::tests::backfill_retry_stops_after_limit ... ok
test egui_app::controller::library::analysis_jobs::pool::job_execution::backfill::tests::backfill_retry_succeeds_after_failures ... ok
test egui_app::controller::library::analysis_jobs::pool::job_execution::backfill::tests::collect_results_limits_error_list ... ok
test egui_app::controller::library::analysis_jobs::pool::job_execution::backfill::tests::drain_batch_caps_at_limit ... ok
test egui_app::controller::library::analysis_jobs::enqueue::tests::hard_sync_skips_failed_jobs_but_force_requeue_restores ... ok
test egui_app::controller::library::analysis_jobs::pool::job_claim::tests::claim_selection_orders_sources_round_robin ... ok
test egui_app::controller::library::analysis_jobs::enqueue::tests::enqueue_invalidates_when_content_hash_changes ... ok
test egui_app::controller::library::analysis_jobs::pool::job_execution::backfill::tests::plan_reuses_content_hash_for_work ... ok
test egui_app::controller::library::analysis_jobs::pool::job_execution::backfill::tests::plan_builds_work_when_cache_misses ... ok
test egui_app::controller::library::analysis_jobs::pool::job_execution::status::tests::update_job_status_retries_until_success ... ok
test egui_app::controller::library::analysis_jobs::pool::job_execution::status::tests::update_job_status_stops_after_retries ... ok
test egui_app::controller::library::analysis_jobs::pool::job_execution::backfill::tests::plan_uses_cached_embedding_when_available ... ok
test egui_app::controller::library::analysis_jobs::pool::job_progress::tests::should_refresh_db_when_cache_empty_or_stale ... ok
test egui_app::controller::library::analysis_jobs::enqueue::tests::missing_features_only_enqueues_unanalyzed_samples ... ok
test egui_app::controller::library::analysis_jobs::pool::job_progress::tests::cleanup_runs_without_workers ... ok
test egui_app::controller::library::collection_export::tests::resolved_export_dir_prefers_manual_override ... ok
test egui_app::controller::library::analysis_jobs::pool::job_progress::tests::cleanup_updates_cache_and_emits_message ... ok
test egui_app::controller::library::analysis_jobs::pool::job_claim::tests::mid_loop_db_open_failure_clears_inflight_and_marks_failed ... ok
test egui_app::controller::library::analysis_jobs::enqueue::tests::missing_features_skips_missing_files_and_marks_them ... ok
test egui_app::controller::library::collection_export::tests::manual_export_path_updates_name_and_path ... ok
test egui_app::controller::library::collection_export::tests::resolved_export_dir_uses_global_root_when_missing_override ... ok
test egui_app::controller::library::analysis_jobs::pool::job_claim::tests::decode_heartbeat_keeps_running_job_fresh ... ok
test egui_app::controller::library::collection_export::tests::sync_updates_existing_collection_export_path_by_name ... ok
test egui_app::controller::library::collection_export::tests::sync_export_adds_files_as_clip_members ... ok
test egui_app::controller::library::collection_items_tests::collection_normalize_overwrites_audio ... ok
test egui_app::controller::library::collection_export::tests::setting_export_root_syncs_direct_subfolders_to_collections ... ok
test egui_app::controller::library::collection_items_tests::collection_tagging_updates_database ... ok
test egui_app::controller::library::collection_items_tests::collection_rows_expose_tags_in_ui ... ok
test egui_app::controller::library::collection_items_tests::collection_clip_tagging_works_without_registered_source ... ok
test egui_app::controller::library::collections_controller::helpers::move_plan::tests::browser_selection_rows_for_move_empty_selection ... ok
test egui_app::controller::library::collection_items_tests::collection_rename_preserves_extension_and_handles_dots ... ok
test egui_app::controller::library::collection_items_tests::collection_rename_moves_files_and_export ... ok
test egui_app::controller::library::collections_controller::helpers::move_plan::tests::next_browser_focus_path_after_move_falls_back_before_last_row ... ok
test egui_app::controller::library::collections_controller::helpers::move_plan::tests::browser_selection_rows_for_move_uses_focused_row ... ok
test egui_app::controller::library::selection_edits::ops::tests::edge_fades_ramp_selection_edges ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::click_repair_interpolates_across_span ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::directional_fade_left_to_right_zeroes_tail ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::directional_fade_right_to_left_zeroes_head ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::click_repair_interpolates_single_sample_linearly ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::click_repair_matches_neighbor_blend ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::crop_keeps_only_selection_frames ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::click_repair_interpolates_multichannel_linearly ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::directional_fade_with_single_frame_zeroes_sample ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::directional_fade_zeroes_expected_side ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::fade_factor_uses_soft_s_curve ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::reverse_buffer_reverses_interleaved_frames ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::reverse_buffer_reverses_selection_frames_in_place ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::mute_respects_selection_bounds ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::mute_zeroes_selection_without_fades ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::normalize_selection_scales_and_blends_edges ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::selection_frame_bounds_include_tail ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::selection_target_range_defaults_to_full_sample ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::selection_target_range_falls_back_to_play_selection ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::selection_target_range_prefers_edit_selection ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::slice_frames_keeps_requested_range ... ok
test egui_app::controller::library::selection_edits::selection_edits_tests::trim_removes_target_span ... ok
test egui_app::controller::library::similarity_prep::plan::tests::plan_initial_state_tracks_skip_and_backfill ... ok
test egui_app::controller::library::selection_export::selection_export_tests::next_selection_path_in_dir_strips_existing_suffix ... ok
test egui_app::controller::library::similarity_prep::state::tests::finalize_only_starts_from_embeddings_stage ... ok
test egui_app::controller::library::similarity_prep::state::tests::scan_transition_controls_backfill ... ok
test egui_app::controller::library::similarity_prep::transitions::tests::clear_state_reports_reset ... ok
test egui_app::controller::library::similarity_prep::state::tests::initial_state_sets_stage_and_skip_backfill ... FAILED
test egui_app::controller::library::slices::ops_tests::apply_painted_slice_splits_overlaps ... ok
test egui_app::controller::library::slices::ops_tests::snap_slice_paint_position_uses_bpm_step ... ok
test egui_app::controller::library::slices::ops_tests::snap_slice_paint_position_uses_transients ... ok
test egui_app::controller::library::slices::ops_tests::update_slice_range_keeps_selection_when_updated_slice_selected ... ok
test egui_app::controller::library::slices::slices_tests::delete_selected_slices_removes_marked_ranges ... ok
test egui_app::controller::library::slices::slices_tests::apply_painted_slice_cuts_existing_ranges ... ok
test egui_app::controller::library::source_folders::actions::ops_tests::move_target_rejects_root_and_self ... ok
test egui_app::controller::library::slices::slices_tests::merge_selected_slices_spans_between_markers ... ok
test egui_app::controller::library::slices::slices_tests::next_slice_path_in_dir_skips_existing_suffixes ... ok
test egui_app::controller::library::source_folders::actions::ops_tests::move_target_resolves_destination ... ok
test egui_app::controller::library::selection_export::selection_export_tests::export_selection_clip_to_root_can_flatten_name_hint ... ok
test egui_app::controller::library::source_folders::actions::ops_tests::normalize_folder_name_trims_and_returns ... ok
test egui_app::controller::library::source_folders::actions::ops_tests::rename_target_can_be_noop ... ok
test egui_app::controller::library::source_folders::actions::ops_tests::normalize_folder_name_rejects_empty_and_invalid ... ok
test egui_app::controller::library::source_folders::actions::ops_tests::rename_target_keeps_parent ... ok
test egui_app::controller::library::slices::slices_tests::detect_waveform_slices_uses_transients_when_enabled ... ok
test egui_app::controller::library::selection_export::selection_export_tests::export_selection_clip_marks_loop_and_bpm_when_looping ... ok
test egui_app::controller::library::wavs::similar::apply::tests::apply_similarity_query_resets_browser_state_and_preserves_anchor ... ok
test egui_app::controller::library::wavs::browser_search_worker::tests::test_compact_search_entry ... ok
test egui_app::controller::library::slices::slices_tests::detect_waveform_slices_skips_silent_segments_with_transients ... ok
test egui_app::controller::library::trash_move::tests::rollback_on_failure ... ok
test egui_app::controller::library::wavs::similar::query::tests::resolve_anchor_index_prefers_override ... ok
test egui_app::controller::library::trash_move::tests::success_removes_from_db ... ok
test egui_app::controller::library::slices::slices_tests::accept_waveform_slices_exports_files ... ok
test egui_app::controller::library::wavs::similar::resolve::tests::filter_ranked_candidates_filters_all_by_cutoff ... ok
test egui_app::controller::library::wavs::similar::resolve::tests::duplicate_filter_skips_silent_rms_candidates ... ok
test egui_app::controller::library::wavs::similar::resolve::tests::duplicate_filter_respects_score_cutoff ... ok
test egui_app::controller::library::wavs::similar::resolve::tests::duplicate_filter_skips_cross_source_candidates ... ok
test egui_app::controller::library::wavs::similar::resolve::tests::filter_ranked_candidates_handles_empty_input ... ok
test egui_app::controller::library::wavs::similar::resolve::tests::filter_ranked_candidates_skips_unresolved_paths ... ok
test egui_app::controller::playback::audio_cache::tests::evicts_least_recent_when_over_capacity ... ok
test egui_app::controller::playback::audio_cache::tests::evicts_on_metadata_mismatch ... ok
test egui_app::controller::playback::audio_cache::tests::returns_hit_when_metadata_matches ... ok
test egui_app::controller::playback::audio_options_tests::missing_device_falls_back_to_default_device ... ok
test egui_app::controller::playback::audio_options_tests::unsupported_sample_rate_falls_back_to_first_supported ... ok
test egui_app::controller::playback::audio_options_tests::missing_host_falls_back_to_default ... ok
test egui_app::controller::playback::formatting::tests::format_selection_duration_scales_units ... ok
test egui_app::controller::playback::formatting::tests::format_timestamp_handles_hours ... ok
test egui_app::controller::playback::formatting::tests::format_timestamp_zero_pads_and_rounds ... ok
test egui_app::controller::playback::loop_crossfade::tests::loop_crossfade_moves_cut_to_front ... ok
test egui_app::controller::playback::player::tests::smooth_playhead_progress_after_seek_clears_after_timeout ... ok
test egui_app::controller::playback::loop_crossfade::tests::loop_crossfade_finds_low_delta_cut ... ok
test egui_app::controller::playback::playhead_trail::tests::tick_playhead_trail_clamps_tiny_backwards_jitter ... ok
test egui_app::controller::playback::player::tests::smooth_playhead_progress_after_seek_starts_at_seek_position ... ok
test egui_app::controller::playback::playhead_trail::tests::tick_playhead_trail_allows_large_forward_deltas_for_short_audio ... ok
test egui_app::controller::library::wavs::similar::resolve::tests::resolve_sample_id_for_visible_row_errors_on_empty_visible_rows ... ok
test egui_app::controller::playback::recording::path::tests::resolve_recording_folder_strips_source_root ... ok
test egui_app::controller::state::cache::tests::test_insert_lookup_normalizes_paths ... ok
test egui_app::controller::state::cache::tests::test_update_entry_normalizes_lookup_key ... ok
test egui_app::controller::playback::recording::path::tests::next_recording_path_generates_filename ... ok
test egui_app::controller::library::wavs::similar::resolve::tests::resolve_sample_id_for_visible_row_errors_on_missing_entry ... ok
test egui_app::controller::playback::tests::playhead_progress_updates_position_without_play_state ... ok
test egui_app::controller::playback::tests::playhead_progress_completion_hides_playhead ... ok
test egui_app::controller::playback::tests::selection_duration_label_is_absent_without_audio ... ok
test egui_app::controller::playback::recording::recorder::tests::output_host_is_asio_handles_settings_host ... ok
test egui_app::controller::playback::tests::selection_duration_label_uses_loaded_audio ... ok
test egui_app::controller::tests::browser_actions::action_rows_include_selection_and_primary ... ok
test egui_app::controller::tests::browser_actions::browser_remove_dead_links_prunes_missing_rows ... ok
test egui_app::controller::tests::browser_actions::browser_delete_prunes_collections_and_exports ... ok
test egui_app::controller::tests::browser_actions::delete_actions_apply_to_all_selected_rows ... ok
test egui_app::controller::tests::browser_actions::delete_hotkey_applies_to_all_selected_rows ... ok
test egui_app::controller::tests::browser_actions::browser_normalize_refreshes_exports ... ok
test egui_app::controller::tests::browser_actions::browser_normalize_resumes_playback_when_playing ... ok
test egui_app::controller::tests::browser_actions::deleting_browser_sample_moves_focus_forward ... ok
test egui_app::controller::tests::browser_actions::exporting_selection_updates_entries_and_db ... ok
test egui_app::controller::tests::browser_actions::focused_row_actions_work_without_explicit_selection ... FAILED
test egui_app::controller::tests::browser_actions::focus_hotkey_does_not_autoplay_browser_sample ... ok
test egui_app::controller::tests::browser_actions::hotkey_tagging_applies_to_all_selected_rows ... ok
test egui_app::controller::tests::browser_actions::selection_persists_when_nudging_focus ... ok
test egui_app::controller::tests::browser_actions::removing_dead_links_for_source_prunes_missing_entries ... ok
test egui_app::controller::tests::browser_actions::rating_auto_advance_works ... ok
test egui_app::controller::tests::browser_actions::normalize_actions_apply_to_all_selected_rows ... ok
test egui_app::controller::tests::browser_core::browser_search_orders_results_by_score_then_index ... ok
test egui_app::controller::tests::browser_core::browser_autoscroll_disabled_when_collection_selected ... ok
test egui_app::controller::tests::browser_actions::x_key_toggle_respects_focus ... ok
test egui_app::controller::tests::browser_core::browser_filter_limits_visible_rows ... ok
test egui_app::controller::tests::browser_core::browser_search_limits_visible_rows ... ok
test egui_app::controller::tests::browser_actions::tag_actions_apply_to_all_selected_rows ... ok
test egui_app::controller::tests::browser_core::browser_selection_is_retained_when_waveform_focused ... ok
test egui_app::controller::tests::browser_core::browser_selection_is_cleared_when_focus_leaves_browser ... ok
test egui_app::controller::tests::browser_core::deleting_collection_removes_and_selects_next ... ok
test egui_app::controller::tests::browser_core::missing_source_is_marked_during_load ... ok
test egui_app::controller::tests::browser_core::left_tagging_from_keep_untags_then_trashes ... FAILED
test egui_app::controller::tests::browser_core::tagging_under_filter_advances_focus_to_next_visible ... ok
test egui_app::controller::tests::browser_core::tagging_keeps_selection_on_same_sample ... FAILED
test egui_app::controller::tests::browser_core::label_cache_builds_on_first_lookup ... ok
test egui_app::controller::tests::browser_core::dropping_sample_moves_to_collection_export ... ok
test egui_app::controller::tests::browser_core::label_cache_clears_after_rename ... ok
test egui_app::controller::tests::browser_core::sample_browser_indices_track_tags ... ok
test egui_app::controller::tests::browser_core::tagging_under_filter_uses_random_focus_in_random_mode ... ok
test egui_app::controller::tests::browser_selection::escape_clears_waveform_cursor_and_resets_start_marker ... ok
test egui_app::controller::tests::browser_core::undo_tagging_refocuses_original_sample_under_filter ... ok
test egui_app::controller::tests::browser_selection::ctrl_click_toggles_selection_and_focuses_row ... ok
test egui_app::controller::tests::browser_selection::click_clears_selection_and_focuses_row ... ok
test egui_app::controller::tests::browser_selection::ctrl_shift_click_adds_range_without_resetting_anchor ... ok
test egui_app::controller::tests::browser_selection::escape_clears_selection ... ok
test egui_app::controller::tests::browser_selection::escape_handler_clears_waveform_and_browser_state ... ok
test egui_app::controller::tests::browser_selection::hotkey_tagging_applies_to_all_selected_rows ... ok
test egui_app::controller::tests::browser_selection::folder_hotkey_moves_selected_samples ... ok
test egui_app::controller::tests::browser_selection::select_all_populates_visible_browser_paths ... ok
test egui_app::controller::tests::browser_selection::update_selection_paths_rewrites_browser_selected_paths ... ok
test egui_app::controller::tests::collections::applying_collection_rename_rejects_empty_name ... ok
test egui_app::controller::tests::browser_selection::escape_stops_playback_before_clearing_selection ... ok
test egui_app::controller::tests::collections::applying_collection_rename_submits_and_clears_prompt ... ok
test egui_app::controller::tests::browser_selection::shift_click_extends_selection_range ... ok
test egui_app::controller::tests::browser_selection::update_cached_entry_replaces_old_path_in_lookup ... ok
test egui_app::controller::tests::browser_selection::shift_arrow_grows_selection ... ok
test egui_app::controller::tests::collections::binding_collection_hotkey_clears_previous_binding ... ok
test egui_app::controller::tests::collections::browser_rename_preserves_extension_and_stem_with_dots ... ok
test egui_app::controller::tests::collections::cancelling_collection_rename_clears_prompt ... ok
test egui_app::controller::tests::collections::pruning_cached_sample_updates_wav_cache_lookup ... ok
test egui_app::controller::tests::collections::browser_selection_restores_last_browsable_source_after_clip_preview ... ok
test egui_app::controller::tests::collections::sample_tag_for_builds_wav_cache_lookup ... ok
test egui_app::controller::tests::collections::start_collection_rename_sets_pending_action ... ok
test egui_app::controller::tests::collections::browser_rename_updates_collections_and_lookup ... ok
test egui_app::controller::tests::collections::export_path_copies_and_refreshes_members ... ok
test egui_app::controller::tests::collections::selecting_collection_sample_does_not_switch_selected_source ... ok
test egui_app::controller::tests::collections::selecting_browser_sample_clears_collection_selection ... ok
test egui_app::controller::tests::collections::cancelling_browser_rename_clears_prompt ... ok
test egui_app::controller::tests::collections::starting_browser_rename_queues_prompt_for_focused_row ... ok
test egui_app::controller::tests::collections::renaming_collection_updates_export_folder ... ok
test egui_app::controller::tests::drag_drop_drop_targets::drop_target_copy_duplicates_sample ... ok
test egui_app::controller::tests::drag_drop_drop_targets::drop_target_drag_reorders_list ... ok
test egui_app::controller::tests::drag_drop_drop_targets::drop_target_panel_accepts_folder_drag ... ok
test egui_app::controller::tests::drag_drop_folders::sample_drop_to_folder_rejects_conflicts ... ok
test egui_app::controller::tests::drag_drop_folders::folder_drop_to_folder_moves_tree ... ok
test egui_app::controller::tests::drag_drop_folders::sample_drop_to_folder_moves_and_updates_state ... ok
test egui_app::controller::tests::drag_drop_selection::warnings::sample_drop_without_active_collection_warns ... ok
test egui_app::controller::tests::drag_drop_selection::warnings::sample_drop_without_selection_warns_even_with_collections ... ok
test egui_app::controller::tests::drag_drop_selection::collection_targets::sample_drop_falls_back_to_active_collection ... ok
test egui_app::controller::tests::drag_drop_folders::selection_drop_adds_clip_to_collection ... ok
test egui_app::controller::tests::drag_drop_selection::collection_targets::selection_drop_uses_collection_export_dir_when_configured ... ok
test egui_app::controller::tests::drag_drop_selection::collection_targets::selection_drop_adds_clip_to_collection ... ok
test egui_app::controller::tests::drag_drop_selection::warnings::selection_drop_without_hover_falls_back_to_active_collection ... ok
test egui_app::controller::tests::drag_drop_waveform::waveform_sample_drop_reports_missing_source_file ... ok
test egui_app::controller::tests::drag_drop_selection::waveform_browser::selection_drop_to_browser_ignores_active_collection ... ok
test egui_app::controller::tests::drag_drop_selection::waveform_browser::selection_drop_to_browser_creates_clip_in_focused_folder ... ok
test egui_app::controller::tests::focus_random::find_similar_hotkey_is_registered ... ok
test egui_app::controller::tests::focus_random::focus_history_hotkeys_are_registered ... ok
test egui_app::controller::tests::drag_drop_selection::waveform_browser::selection_drop_to_browser_respects_shift_pressed_mid_drag ... ok
test egui_app::controller::tests::focus_random::find_similar_from_map_switches_to_browser_list ... ok
test egui_app::controller::tests::drag_drop_waveform::waveform_sample_drop_copies_and_registers ... ok
test egui_app::controller::tests::drag_drop_selection::waveform_browser::selection_drop_to_browser_can_keep_source_focused ... ok
test egui_app::controller::tests::drag_drop_selection::waveform_browser::selection_drop_to_folder_panel_creates_clip_in_folder ... ok
test egui_app::controller::tests::focus_random::random_history_hotkey_is_registered ... ok
test egui_app::controller::tests::focus_random::focus_history_steps_backward_and_forward ... ok
test egui_app::controller::tests::focus_random::random_navigation_mode_toggles_state_and_status ... ok
test egui_app::controller::tests::focus_random::hotkey_focus_waveform_sets_context ... ok
test egui_app::controller::tests::focus_random::random_history_trims_to_limit ... ok
test egui_app::controller::tests::focus_random::random_history_steps_backward ... ok
test egui_app::controller::tests::focus_random::random_navigation_toggle_hotkey_is_registered ... ok
test egui_app::controller::tests::focus_random::hotkey_search_browser_requests_focus ... ok
test egui_app::controller::tests::focus_random::random_sample_hotkey_is_registered ... ok
test egui_app::controller::tests::focus_random::quote_hotkey_tags_selected_sample_neutral ... ok
test egui_app::controller::tests::focus_random::focusing_browser_row_updates_focus_context ... ok
test egui_app::controller::tests::focus_random::tag_neutral_hotkey_is_registered ... ok
test egui_app::controller::tests::focus_random::hotkey_toggle_selection_dispatches_in_browser_context ... ok
test egui_app::controller::tests::focus_random::trash_move_hotkeys_are_registered ... ok
test egui_app::controller::tests::focus_random::random_sample_handles_empty_lists ... ok
test egui_app::controller::tests::folders_core::cancelling_folder_rename_clears_prompt ... ok
test egui_app::controller::tests::folders_core::cancelling_new_folder_creation_clears_state ... ok
test egui_app::controller::tests::focus_random::random_sample_navigation_avoids_repeats ... ok
test egui_app::controller::tests::focus_random::random_sample_selection_uses_seeded_rng ... ok
test egui_app::controller::tests::folders_core::creating_folder_tracks_manual_entry ... ok
test egui_app::controller::tests::focus_random::tag_hotkeys_apply_to_collection_focus ... FAILED
test egui_app::controller::tests::focus_random::selecting_collection_sample_updates_focus_context ... ok
test egui_app::controller::tests::folders_core::clearing_folder_selection_shows_all_samples ... ok
test egui_app::controller::tests::focus_random::trash_move_hotkey_moves_samples ... ok
test egui_app::controller::tests::folders_core::folder_browser_includes_root_entry ... ok
test egui_app::controller::tests::folders_core::folder_browser_lists_empty_folders ... ok
test egui_app::controller::tests::folders_core::deleting_folder_moves_focus_to_next_available ... ok
test egui_app::controller::tests::folders_core::escape_does_not_clear_folder_filter_without_folder_focus ... ok
test egui_app::controller::tests::folders_core::deleting_folder_removes_wavs ... FAILED
test egui_app::controller::tests::folders_core::folder_focus_clears_when_context_changes ... ok
test egui_app::controller::tests::folders_core::negated_folder_hides_samples ... ok
test egui_app::controller::tests::folders_core::start_new_folder_at_root_sets_root_parent ... ok
test egui_app::controller::tests::folders_core::deleting_folder_rolls_back_on_db_failure ... ok
test egui_app::controller::tests::folders_core::negated_root_hides_only_root_samples ... ok
test egui_app::controller::tests::folders_core::start_new_folder_clears_search_query ... ok
test egui_app::controller::tests::folders_core::root_entry_stays_above_real_folders ... ok
test egui_app::controller::tests::folders_core::selecting_root_filters_to_root_files ... ok
test egui_app::controller::tests::folders_search::creating_folder_tracks_manual_entry ... ok
test egui_app::controller::tests::missing::apply_wav_entries_updates_missing_lookup ... ok
test egui_app::controller::tests::folders_core::start_new_folder_uses_focused_parent ... ok
test egui_app::controller::tests::folders_search::fuzzy_search_filters_folders ... ok
test egui_app::controller::tests::folders_core::renaming_folder_updates_entries_and_tree ... ok
test egui_app::controller::tests::missing::collection_views_flag_missing_members ... ok
test egui_app::controller::tests::missing::selecting_missing_sample_sets_waveform_notice ... ok
test egui_app::controller::tests::missing::mark_missing_updates_db_and_missing_set_without_cache ... ok
test egui_app::controller::tests::missing::read_failure_marks_sample_missing ... ok
test egui_app::controller::tests::missing::mark_missing_updates_cache_db_and_missing_set_when_inactive ... ok
test egui_app::controller::tests::missing::remove_dead_links_rebuilds_missing_state ... ok
test egui_app::controller::tests::missing::remove_dead_links_prunes_collections ... ok
test egui_app::controller::tests::recording::stop_recording_without_active_recorder_is_noop ... ok
test egui_app::controller::tests::playback_loop::enabling_loop_while_playing_restarts_in_looped_mode ... ok
test egui_app::controller::tests::playback_loop::adjusting_bpm_while_playing_keeps_playing ... ok
test egui_app::controller::tests::playback_loop::enabling_loop_while_playing_uses_full_selection ... ok
test egui_app::controller::tests::playback_loop::finish_selection_drag_restarts_when_playhead_outside_loop ... ok
test egui_app::controller::tests::playback_loop::finish_selection_drag_keeps_playing_when_playhead_inside_loop ... ok
test egui_app::controller::tests::selection_undo::undo_redo_selection_drag ... ok
test egui_app::controller::tests::selection_undo::undo_restores_cleared_selection ... ok
test egui_app::controller::tests::playback_loop::enabling_stretch_while_playing_keeps_playing ... ok
test egui_app::controller::tests::trash::moving_trashed_samples_moves_and_prunes_state ... ok
test egui_app::controller::tests::trash::moving_trashed_samples_can_cancel_midway ... ok
test egui_app::controller::tests::selection_bpm_scale::alt_drag_scales_selection_and_recalculates_bpm ... ok
test egui_app::controller::tests::selection_bpm_scale::alt_drag_scales_without_loop_enabled ... ok
test egui_app::controller::tests::trash::taking_out_trash_deletes_files ... ok
test egui_app::controller::tests::selection_bpm_scale::start_drag_snaps_to_start_when_bpm_snap_enabled ... ok
test egui_app::controller::tests::selection_bpm_scale::shift_resizedrag_overrides_bpm_snapping ... ok
test egui_app::controller::tests::selection_bpm_scale::bpm_snap_value_does_not_persist_to_sample_metadata ... ok
test egui_app::controller::tests::waveform::align_waveform_start_uses_hover_cursor ... ok
test egui_app::controller::tests::waveform::destructive_edit_request_prompts_without_yolo_mode ... ok
test egui_app::controller::tests::waveform::cropping_selection_overwrites_file ... ok
test egui_app::controller::tests::waveform::click_removal_interpolates_selected_span ... ok
test egui_app::controller::tests::waveform::c_hotkey_prompts_crop_selection_in_waveform_focus ... ok
test egui_app::controller::tests::waveform::confirming_pending_destructive_edit_clears_prompt ... ok
test egui_app::controller::tests::waveform::pruning_missing_selection_clears_waveform_view ... ok
test egui_app::controller::tests::waveform::m_hotkey_prompts_mute_selection_in_waveform_focus ... ok
test egui_app::controller::tests::waveform::n_hotkey_normalizes_whole_loaded_sample_when_no_selection ... ok
test egui_app::controller::tests::waveform::n_hotkey_prompts_normalize_selection_when_selection_present ... ok
test egui_app::controller::tests::waveform::normalize_selection_resumes_playback_when_playing ... ok
test egui_app::controller::tests::waveform::removing_selected_source_clears_waveform_view ... ok
test egui_app::controller::tests::waveform::shift_c_hotkey_crops_selection_to_new_sample ... ok
test egui_app::controller::tests::waveform::waveform_image_resizes_to_view ... ok
test egui_app::controller::tests::waveform::trimming_selection_removes_span ... ok
test egui_app::controller::tests::waveform::slash_hotkeys_prompt_fade_selection_in_waveform_focus ... ok
test egui_app::controller::tests::waveform::t_hotkey_prompts_trim_selection_in_waveform_focus ... ok
test egui_app::controller::tests::waveform_nav_cursor::cursor_alpha_fades_before_reset ... ok
test egui_app::controller::tests::waveform_nav_cursor::hiding_playhead_clears_span_target ... ok
test egui_app::controller::tests::waveform_nav_cursor::cursor_alpha_resets_after_idle_timeout ... ok
test egui_app::controller::tests::waveform_nav_cursor::mouse_zoom_prefers_pointer_over_playhead ... ok
test egui_app::controller::tests::waveform_nav_cursor::cursor_step_size_tracks_view_zoom ... ok
test egui_app::controller::tests::waveform_nav_cursor::batched_zoom_matches_sequential_steps ... ok
test egui_app::controller::tests::waveform_nav_cursor::cursor_does_not_fade_when_waveform_focused ... ok
test egui_app::controller::tests::waveform::switching_sources_resets_waveform_state ... ok
test egui_app::controller::tests::waveform_nav_cursor::playhead_completion_detects_full_span_end ... ok
test egui_app::controller::tests::waveform_nav_cursor::playhead_completion_tracks_selection_end ... ok
test egui_app::controller::tests::waveform_nav_cursor::navigation_steps_anchor_to_cursor_instead_of_playhead ... ok
test egui_app::controller::tests::waveform_nav_cursor::last_start_marker_clamps_and_resets ... ok
test egui_app::controller::tests::waveform_nav_cursor::replay_from_last_start_falls_back_to_cursor ... ok
test egui_app::controller::tests::waveform_nav_cursor::play_from_cursor_prefers_cursor_position ... ok
test egui_app::controller::tests::waveform::yolo_mode_applies_destructive_edit_immediately ... ok
test egui_app::controller::tests::waveform_nav_cursor::play_from_cursor_ignores_hover_cursor_when_replaying ... ok
test egui_app::controller::tests::waveform_nav_cursor::replay_from_last_start_requeues_pending_playback ... ok
test egui_app::controller::tests::waveform_nav_cursor::selecting_new_sample_clears_last_start_marker ... ok
test egui_app::controller::tests::waveform_nav_render::waveform_render_meta_allows_small_shifts_on_full_view ... ok
test egui_app::controller::tests::waveform_nav_render::waveform_refresh_respects_view_slice_and_caps_width ... ok
test egui_app::controller::tests::waveform_nav_render::waveform_render_meta_rejects_small_shifts_when_zoomed_in ... ok
test egui_app::controller::tests::waveform_nav_render::cursor_step_size_tracks_view_zoom ... ok
test egui_app::controller::tests::waveform_nav_render::play_request_is_deferred_until_audio_ready ... ok
test egui_app::controller::ui::drag_drop_controller::actions::external_drag_tests::external_drag_arms_and_resets_when_pointer_returns ... ok
test egui_app::controller::ui::drag_drop_controller::actions::external_drag_tests::external_drag_requires_outside_dwell_time ... ok
test egui_app::controller::ui::drag_drop_controller::actions::external_drag_tests::external_drag_arms_on_pointer_gone_then_launches_after_dwell_time ... ok
test egui_app::controller::ui::hotkeys_controller::tests::browser_hotkey_respects_focus ... ok
test egui_app::controller::ui::hotkeys_controller::tests::collections_hotkey_respects_focus ... ok
test egui_app::controller::tests::waveform_nav_render::loading_flag_clears_after_audio_load ... ok
test egui_app::controller::ui::interaction_options::tests::wheel_zoom_speed_mapping_is_monotonic ... ok
test egui_app::controller::ui::interaction_options::tests::wheel_zoom_speed_round_trips_with_factor ... ok
test egui_app::controller::ui::os_explorer::tests::windows_explorer_args_normalize_forward_slashes ... ok
test egui_app::controller::ui::os_explorer::tests::windows_explorer_args_use_select_and_path ... ok
test egui_app::controller::ui::os_explorer::tests::windows_explorer_target_normalize_forward_slashes ... ok
test egui_app::controller::undo::tests::pushing_new_action_clears_redo_stack ... ok
test egui_app::controller::undo::tests::undo_stack_respects_limit ... ok
test egui_app::controller::ui::waveform_slide::tests::rotate_interleaved_samples_wraps_frames ... ok
test egui_app::state::progress::tests::progress_fraction_handles_zero_total ... ok
test egui_app::state::progress::tests::progress_reset_clears_visibility ... ok
test egui_app::controller::ui::clipboard::tests::copy_shortcut_exports_waveform_selection_clip_for_clipboard_paths ... ok
test egui_app::state::progress::tests::running_job_marks_stale_heartbeat ... ok
test egui_app::controller::tests::waveform_nav_render::stale_audio_results_are_ignored ... ok
test egui_app::ui::hotkey_runtime::tests::consume_press_drops_hotkey_events ... ok
test egui_app::ui::hotkey_runtime::tests::consume_press_removes_backslash_text ... ok
test egui_app::ui::map_view::tests::cluster_overlay_requires_centroids ... ok
test egui_app::ui::hotkey_runtime::tests::consume_press_removes_uppercase_text ... ok
test egui_app::ui::sources_panel::utils::tests::sample_housing_folders_includes_ancestors ... ok
test egui_app::ui::sources_panel::utils::tests::sample_housing_folders_root_returns_empty_path ... ok
test egui_app::ui::style::tests::playback_age_label_color_uses_buckets ... ok
test egui_app::ui::style::tests::triage_label_color_matches_flags ... ok
test egui_app::ui::waveform_view::selection_geometry::tests::edge_handles_do_not_overlap_drag_handle ... ok
test egui_app::ui::waveform_view::overlays::playhead::tests::gradient_stops_from_trail_window_densifies_large_gaps ... ok
test egui_app::ui::waveform_view::selection_geometry::tests::loop_bar_rect_clamps_to_view_bounds ... ok
test egui_app::ui::waveform_view::selection_geometry::tests::selection_rect_clamps_to_visible_view ... ok
test egui_app::ui::waveform_view::selection_geometry::tests::selection_rect_clamps_to_zero_width_when_offscreen ... ok
test egui_app::ui::waveform_view::slice_overlay::geometry::tests::slice_rect_clamps_to_visible_range ... ok
test egui_app::ui::waveform_view::slice_overlay::geometry::tests::slice_rect_returns_none_when_outside_view ... ok
test egui_app::controller::tests::waveform_nav_render::waveform_rerenders_after_same_length_edit ... ok
test egui_app::ui::waveform_view::overlays::playhead::tests::trail_samples_in_window_includes_cutoff_interpolation ... ok
test egui_app::ui::waveform_view::slice_overlay::geometry::tests::update_slice_edge_clamps_start_and_end ... ok
test egui_app::view_model::tests::sample_display_label_handles_files_without_extension ... ok
test egui_app::view_model::tests::sample_display_label_strips_directories_and_extension ... ok
test external_clipboard::platform::tests::bounded_utf16_len_finds_terminator ... ok
test egui_app::ui::update::update_prompt::tests::ctrl_shift_space_prefers_replay_from_last_start_over_cursor ... ok
test external_clipboard::platform::tests::bounded_utf16_len_errors_without_terminator ... ok
test http_client::tests::read_response_bytes_accepts_under_limit ... ok
test http_client::tests::read_response_bytes_rejects_body_over_max ... ok
test http_client::tests::read_response_bytes_rejects_content_length_over_max ... ok
test http_client::tests::retry_with_backoff_honors_should_retry ... ok
test http_client::tests::retry_with_backoff_stops_after_success ... ok
test issue_gateway::api::tests::issue_kind_prefixes_match_spec_examples ... ok
test issue_gateway::api::tests::rejects_auth_body_without_token ... ok
test issue_gateway::api::tests::reports_error_field ... ok
test issue_gateway::api::tests::maps_session_expired_to_unauthorized ... ok
test issue_gateway::api::tests::parses_issue_token_from_auth_body ... ok
test issue_gateway::api::tests::parses_success_without_ok_field ... ok
test issue_gateway::token_store::tests::fallback_get_clears_unreadable_payload ... ok
test egui_app::controller::ui::hotkeys_controller::tests::waveform_hotkey_respects_focus ... ok
test issue_gateway::token_store::tests::fallback_get_migrates_legacy_key_file ... FAILED
test issue_gateway::token_store::tests::fallback_get_rejects_corrupted_payload ... FAILED
test issue_gateway::token_store::tests::fallback_get_rejects_oversized_payload ... FAILED
test issue_gateway::token_store::tests::fallback_is_only_used_when_explicitly_allowed ... FAILED
test issue_gateway::token_store::tests::fallback_roundtrip_when_keyring_disabled ... FAILED
test issue_gateway::token_store::tests::fallback_warns_when_active ... FAILED
test logging::tests::log_filename_has_timestamp_and_prefix ... ok
test sample_sources::collections::tests::collections_deduplicate_members ... ok
test issue_gateway::token_store::tests::set_empty_token_clears_storage ... FAILED
test sample_sources::collections::tests::pruning_removes_all_members_from_source ... ok
test sample_sources::config::config_io::tests::load::audio_input_channels_accepts_single_value ... ok
test sample_sources::config::config_io::tests::load::apply_app_data_dir_loads_override_when_exists ... ok
test sample_sources::config::config_io::tests::load::load_settings_from_merges_core_table ... ok
test sample_sources::config::config_io::tests::load::clamps_volume_and_worker_count_on_load ... ok
test sample_sources::config::config_io::tests::legacy::migrates_from_legacy_json ... FAILED
test sample_sources::config::config_io::tests::load::apply_app_data_dir_copies_settings_when_missing ... FAILED
test egui_app::controller::ui::drag_drop_controller::drag_effects::source_moves::tests::moving_multiple_samples_to_source_clears_browser_rows ... ok
test logging::tests::prune_removes_oldest_files_beyond_limit ... ok
test sample_sources::config::config_io::tests::save::audio_input_defaults_and_persists ... ok
test sample_sources::db::rating_tests::tests::test_classification_helpers ... ok
test sample_sources::db::rating_tests::tests::test_legacy_migration ... ok
test sample_sources::db::rating_tests::tests::test_rating_clamping ... ok
test sample_sources::config::config_io::tests::save::saves_settings_to_toml ... ok
test sample_sources::config::config_io::tests::save::settings_round_trip_preserves_fields ... ok
test sample_sources::config::config_io::tests::save::collection_export_root_round_trips ... ok
test sample_sources::config::config_io::tests::save::audio_output_defaults_and_persists ... ok
test sample_sources::config::config_io::tests::save::trash_folder_round_trips ... ok
test sample_sources::config::config_io::tests::save::volume_defaults_and_persists ... ok
test sample_sources::db::tests::batch_tag_updates_coalesce_to_latest_value ... ok
test sample_sources::db::tests::absolute_paths_are_rejected ... ok
test sample_sources::db::tests::list_and_count_only_show_supported_audio ... ok
test sample_sources::db::tests::applies_workload_pragmas_and_indices ... ok
test sample_sources::db::tests::loop_markers_default_and_persist ... ok
test sample_sources::db::tests::missing_flag_round_trips ... ok
test sample_sources::db::tests::missing_columns_are_added_on_open ... ok
test sample_sources::library::tests::creates_embedding_tables ... ok
test sample_sources::library::tests::applies_workload_pragmas_and_indices ... ok
test issue_gateway::api::tests::create_issue_retries_on_server_errors_with_idempotency_key ... ok
test sample_sources::library::tests::migrates_legacy_schema_to_latest ... FAILED
test sample_sources::db::tests::tags_default_and_persist ... ok
test sample_sources::scan_state::tests::allows_retry_after_failure ... ok
test sample_sources::scan_state::tests::prevents_overlapping_scans ... ok
test sample_sources::scan_state::tests::skips_completed_when_not_forced ... ok
test sample_sources::library::tests::database_lives_under_app_root ... FAILED
test sample_sources::library::tests::preserves_collection_and_member_order ... ok
test sample_sources::library::tests::saves_and_loads_sources_and_collections ... ok
test sample_sources::scanner::scan::tests::hard_rescan_prunes_missing_without_touching_existing ... ok
test sample_sources::scanner::scan::tests::hard_rescan_prunes_missing_files_with_tags ... ok
test sample_sources::scanner::scan::tests::hard_rescan_prunes_missing_rows ... ok
test sample_sources::library::tests::recovers_from_library_lock_poisoning ... ok
test sample_sources::scanner::scan::tests::scan_detects_changed_content_hash ... ok
test sample_sources::library::tests::reuses_known_source_id_for_same_root ... ok
test sample_sources::scanner::scan::tests::scan_detects_missing_paths_without_double_counting ... ok
test sample_sources::library::tests::migrates_legacy_collection_export_paths ... FAILED
test sample_sources::scanner::scan::tests::scan_detects_rename_and_preserves_tag ... ok
test selection::tests::clear_resets_state ... ok
test selection::tests::drag_create_below_step_clears_range ... ok
test selection::tests::drag_edge_enforces_min_width ... ok
test sample_sources::scanner::scan::tests::scan_add_update_mark_missing ... ok
test selection::tests::drag_create_snaps_to_beats ... ok
test selection::tests::drag_create_tracks_anchor ... ok
test sample_sources::scanner::scan::tests::scan_ignores_non_wav_and_counts_nested ... ok
test selection::tests::dragging_state_clears_on_finish ... ok
test selection::tests::empty_range_reports_zero_width ... ok
test selection::tests::drag_edge_snaps_to_beats ... ok
test selection::tests::drag_edges_updates_individually ... ok
test selection::tests::drag_updates_clamp_outside_bounds ... ok
test sample_sources::scanner::scan::tests::scan_with_progress_respects_cancel_flag ... ok
test sample_sources::scanner::scan::tests::scan_skips_analysis_when_hash_unchanged ... ok
test sample_sources::scanner::scan::tests::scan_in_background_finishes ... ok
test selection::tests::shift_noops_on_nan ... ok
test sqlite_ext::tests::no_env_var_is_noop ... ok
test selection::tests::new_range_orders_bounds ... ok
test selection::tests::shift_clamps_within_bounds ... ok
test sqlite_ext::tests::rejects_extension_outside_allowlist ... ok
test sqlite_ext::tests::unsafe_mode_allows_extension_outside_allowlist ... ok
test sqlite_ext::tests::unsafe_mode_uses_cwd_for_relative_paths ... ok
test updater::apply::tests::apply_files_and_dirs_keeps_running_executable_on_stage_failure ... ok
test updater::apply::tests::relaunch_app_errors_when_executable_missing ... ok
test updater::archive::tests::unzip_rejects_entry_over_size_limit ... ok
test updater::archive::tests::verify_checksums_signature_accepts_valid_signature ... ok
test updater::archive::tests::verify_checksums_signature_rejects_empty_signature ... ok
test updater::archive::tests::unzip_rejects_suspicious_compression_ratio ... ok
test updater::apply::tests::apply_files_and_dirs_removes_stale_files_from_prior_manifest ... FAILED
test updater::apply::tests::apply_files_and_dirs_removes_stale_resources_dir ... FAILED
test updater::archive::tests::verify_checksums_signature_rejects_invalid_signature ... ok
test updater::archive::tests::verify_checksums_signature_rejects_tampered_checksums ... ok
test updater::github::tests::parses_release_shape ... ok
test updater::archive::tests::unzip_rejects_total_uncompressed_over_limit ... ok
test updater::tests::ensure_child_path_allows_relative_path ... FAILED
test updater::tests::ensure_child_path_rejects_absolute_path ... ok
test wav_sanitize::tests::fixes_pcm_fmt_chunk_size_20 ... ok
test updater::tests::ensure_child_path_rejects_parent_dir ... ok
test wav_sanitize::tests::fixes_pcm_fmt_chunk_size_22_with_padding ... ok
test waveform::decode::decode::tests::decode_prefers_wav_reader_when_valid ... FAILED
test waveform::decode::decode::tests::decode_falls_back_to_rodio_when_wav_invalid ... FAILED
test waveform::decode::decode::tests::decode_reports_invalid_data_errors ... ok
test waveform::decode::decode::tests::peak_only_branch_preserves_duration_and_frames ... ok
test waveform::decode::resample::tests::resample_downsample_preserves_endpoints ... ok
test waveform::decode::resample::tests::resample_empty_returns_empty ... ok
test waveform::decode::resample::tests::resample_single_frame_returns_same ... ok
test waveform::decode::resample::tests::resample_upsample_interpolates ... ok
test waveform::peaks_tests::peaks_sampling_returns_expected_width ... ok
test wav_sanitize::tests::test_open_sanitized_wav_chained ... FAILED
test waveform::render::tests::columns_window_clamps_to_last_window ... ok
test waveform::render::tests::columns_window_rejects_invalid_sizes ... ok
test waveform::load_waveform_tests::read_audio_bytes_with_limit_rejects_files_over_cap ... ok
test waveform::decode::rodio_reader::tests::rodio_fallback_decodes_ill_formed_riff_size ... ok
test waveform::decode::wav_reader::tests::decodes_16bit_int_scaling_and_interleaving ... ok
test waveform::sampling::tests::mono_sample_columns_use_renderer_width ... ok
test waveform::sampling::tests::mono_view_uses_channel_extremes ... ok
test waveform::sampling::tests::sample_columns_clamps_to_bounds ... ok
test waveform::sampling::tests::sample_columns_cover_tail_sample ... ok
test waveform::decode::wav_reader::tests::decodes_32bit_int_scaling ... ok
test waveform::render::tests::render_color_image_for_view_respects_requested_size ... ok
test waveform::render::tests::smoothing_radius_handles_boundaries ... ok
test waveform::sampling::tests::high_zoom_columns_keep_channel_extremes ... ok
test waveform::sampling::tests::sample_columns_replicate_sparse_audio ... ok
test waveform::render::tests::render_color_image_respects_requested_size ... ok
test waveform::tests::max_abs_in_span_uses_peaks_when_samples_empty ... ok
test waveform::decode::wav_reader::tests::decodes_24bit_int_scaling ... ok
test waveform::tests::max_abs_in_span_uses_samples ... ok
test waveform::sampling::tests::sample_columns_returns_zeroes_when_empty ... ok
test waveform::sampling::tests::split_channels_share_sampling_pipeline ... ok
test waveform::sampling::tests::split_view_shows_individual_channels ... ok
test waveform::zoom_cache::tests::cache_order_stays_bounded_for_repeated_touch ... ok
test waveform::zoom_cache::tests::cache_token_prevents_stale_hits_when_memory_is_reused ... ok
test waveform::transients::tests::detects_single_spike_transient ... ok
test waveform::zoom_cache::tests::get_or_compute_recovers_after_poisoned_lock ... ok
test waveform::zoom_cache::tests::get_or_compute_allows_parallel_requests ... ok
test waveform::transients::tests::detects_two_spikes ... ok
test updater::fs_ops::tests::update_transaction_rolls_back_on_commit_failure ... ok

failures:

---- egui_app::controller::library::similarity_prep::state::tests::initial_state_sets_stage_and_skip_backfill stdout ----

thread 'egui_app::controller::library::similarity_prep::state::tests::initial_state_sets_stage_and_skip_backfill' (33776) panicked at src\egui_app\controller\library\similarity_prep\state.rs:89:9:
assertion failed: state.skip_backfill

---- egui_app::controller::tests::browser_actions::focused_row_actions_work_without_explicit_selection stdout ----

thread 'egui_app::controller::tests::browser_actions::focused_row_actions_work_without_explicit_selection' (2160) panicked at src\egui_app\controller\tests\browser_actions.rs:214:5:
assertion `left == right` failed
  left: Some(1)
 right: Some(0)

---- egui_app::controller::tests::browser_core::left_tagging_from_keep_untags_then_trashes stdout ----

thread 'egui_app::controller::tests::browser_core::left_tagging_from_keep_untags_then_trashes' (30948) panicked at src\egui_app\controller\tests\browser_core.rs:288:5:
assertion `left == right` failed
  left: Rating(0)
 right: Rating(-3)

---- egui_app::controller::tests::browser_core::tagging_keeps_selection_on_same_sample stdout ----

thread 'egui_app::controller::tests::browser_core::tagging_keeps_selection_on_same_sample' (15108) panicked at src\egui_app\controller\tests\browser_core.rs:264:5:
assertion `left == right` failed
  left: Some("two.wav")
 right: Some("one.wav")

---- egui_app::controller::tests::focus_random::tag_hotkeys_apply_to_collection_focus stdout ----

thread 'egui_app::controller::tests::focus_random::tag_hotkeys_apply_to_collection_focus' (3368) panicked at src\egui_app\controller\tests\focus_random.rs:322:10:
called `Option::unwrap()` on a `None` value

---- egui_app::controller::tests::folders_core::deleting_folder_removes_wavs stdout ----

thread 'egui_app::controller::tests::folders_core::deleting_folder_removes_wavs' (4236) panicked at src\egui_app\controller\tests\folders_core.rs:281:5:
assertion `left == right` failed
  left: 1
 right: 0

---- issue_gateway::token_store::tests::fallback_get_migrates_legacy_key_file stdout ----

thread 'issue_gateway::token_store::tests::fallback_get_migrates_legacy_key_file' (29540) panicked at src\issue_gateway\token_store.rs:800:41:
called `Result::unwrap()` on an `Err` value: Io(Os { code: 5, kind: PermissionDenied, message: "Access is denied." })

---- issue_gateway::token_store::tests::fallback_get_rejects_corrupted_payload stdout ----

thread 'issue_gateway::token_store::tests::fallback_get_rejects_corrupted_payload' (27712) panicked at src\issue_gateway\token_store.rs:587:14:
env lock poisoned: PoisonError { .. }

---- issue_gateway::token_store::tests::fallback_get_rejects_oversized_payload stdout ----

thread 'issue_gateway::token_store::tests::fallback_get_rejects_oversized_payload' (31016) panicked at src\issue_gateway\token_store.rs:587:14:
env lock poisoned: PoisonError { .. }

---- issue_gateway::token_store::tests::fallback_is_only_used_when_explicitly_allowed stdout ----

thread 'issue_gateway::token_store::tests::fallback_is_only_used_when_explicitly_allowed' (3764) panicked at src\issue_gateway\token_store.rs:587:14:
env lock poisoned: PoisonError { .. }

---- issue_gateway::token_store::tests::fallback_roundtrip_when_keyring_disabled stdout ----

thread 'issue_gateway::token_store::tests::fallback_roundtrip_when_keyring_disabled' (23188) panicked at src\issue_gateway\token_store.rs:587:14:
env lock poisoned: PoisonError { .. }

---- issue_gateway::token_store::tests::fallback_warns_when_active stdout ----

thread 'issue_gateway::token_store::tests::fallback_warns_when_active' (33048) panicked at src\issue_gateway\token_store.rs:587:14:
env lock poisoned: PoisonError { .. }

---- issue_gateway::token_store::tests::set_empty_token_clears_storage stdout ----

thread 'issue_gateway::token_store::tests::set_empty_token_clears_storage' (7688) panicked at src\issue_gateway\token_store.rs:587:14:
env lock poisoned: PoisonError { .. }

---- sample_sources::config::config_io::tests::legacy::migrates_from_legacy_json stdout ----

thread 'sample_sources::config::config_io::tests::legacy::migrates_from_legacy_json' (33252) panicked at src\sample_sources\config_io\tests\legacy.rs:47:5:
assertion `left == right` failed
  left: 0
 right: 1

---- sample_sources::config::config_io::tests::load::apply_app_data_dir_copies_settings_when_missing stdout ----

thread 'sample_sources::config::config_io::tests::load::apply_app_data_dir_copies_settings_when_missing' (13340) panicked at src\sample_sources\config_io\tests\load.rs:98:5:
assertion `left == right` failed
  left: "C:\\Users\\WANJA~1.SVA\\AppData\\Local\\Temp\\.tmpEjxQ8n\\override"
 right: "C:\\Users\\WANJA~1.SVA\\AppData\\Local\\Temp\\.tmpPnj0uQ\\override"

---- sample_sources::library::tests::migrates_legacy_schema_to_latest stdout ----

thread 'sample_sources::library::tests::migrates_legacy_schema_to_latest' (4336) panicked at src\sample_sources\library\tests.rs:70:43:
called `Result::unwrap()` on an `Err` value: SqlInputError { error: Error { code: Unknown, extended_code: 1 }, msg: "table metadata already exists", sql: "\nCREATE TABLE metadata (\n    key TEXT PRIMARY KEY,\n    value TEXT NOT NULL\n);\nCREATE TABLE sources (\n    id TEXT PRIMARY KEY,\n    root TEXT NOT NULL,\n    sort_order INTEGER NOT NULL\n);\nCREATE TABLE collections (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    export_path TEXT,\n    sort_order INTEGER NOT NULL\n);\nCREATE TABLE collection_members (\n    collection_id TEXT NOT NULL,\n    source_id TEXT NOT NULL,\n    relative_path TEXT NOT NULL,\n    sort_order INTEGER NOT NULL,\n    PRIMARY KEY (collection_id, source_id, relative_path),\n    FOREIGN KEY(collection_id) REFERENCES collections(id) ON DELETE CASCADE\n);\nCREATE TABLE analysis_jobs (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    sample_id TEXT NOT NULL,\n    job_type TEXT NOT NULL,\n    status TEXT NOT NULL,\n    attempts INTEGER NOT NULL DEFAULT 0,\n    created_at INTEGER NOT NULL,\n    last_error TEXT,\n    UNIQUE(sample_id, job_type)\n);\nCREATE INDEX idx_analysis_jobs_status_created_id\n    ON analysis_jobs (status, created_at, id);\nCREATE INDEX idx_analysis_jobs_status_sample_id\n    ON analysis_jobs (status, sample_id);\nCREATE TABLE samples (\n    sample_id TEXT PRIMARY KEY,\n    content_hash TEXT NOT NULL,\n    size INTEGER NOT NULL,\n    mtime_ns INTEGER NOT NULL\n);\nCREATE TABLE analysis_features (\n    sample_id TEXT PRIMARY KEY,\n    content_hash TEXT NOT NULL,\n    features BLOB\n);\nCREATE TABLE embeddings (\n    sample_id TEXT PRIMARY KEY,\n    model_id TEXT NOT NULL,\n    dim INTEGER NOT NULL,\n    vec_blob BLOB NOT NULL\n) WITHOUT ROWID;\n", offset: 14 }

---- sample_sources::library::tests::database_lives_under_app_root stdout ----

thread 'sample_sources::library::tests::database_lives_under_app_root' (24620) panicked at src\sample_sources\library\tests.rs:232:9:
expected database at C:\Users\WANJA~1.SVA\AppData\Local\Temp\.tmphfbCot\.sempal\library.db

---- sample_sources::library::tests::migrates_legacy_collection_export_paths stdout ----

thread 'sample_sources::library::tests::migrates_legacy_collection_export_paths' (5860) panicked at src\sample_sources\library\tests.rs:265:9:
assertion `left == right` failed
  left: 0
 right: 1

---- updater::apply::tests::apply_files_and_dirs_removes_stale_files_from_prior_manifest stdout ----

thread 'updater::apply::tests::apply_files_and_dirs_removes_stale_files_from_prior_manifest' (11576) panicked at src\updater\apply.rs:467:71:
called `Result::unwrap()` on an `Err` value: Invalid("Failed to inspect update path \\\\?\\C:: Incorrect function. (os error 1)")

---- updater::apply::tests::apply_files_and_dirs_removes_stale_resources_dir stdout ----

thread 'updater::apply::tests::apply_files_and_dirs_removes_stale_resources_dir' (4312) panicked at src\updater\apply.rs:518:71:
called `Result::unwrap()` on an `Err` value: Invalid("Failed to inspect update path \\\\?\\C:: Incorrect function. (os error 1)")

---- updater::tests::ensure_child_path_allows_relative_path stdout ----

thread 'updater::tests::ensure_child_path_allows_relative_path' (26248) panicked at src\updater\mod.rs:288:67:
called `Result::unwrap()` on an `Err` value: Invalid("Failed to inspect update path \\\\?\\C:: Incorrect function. (os error 1)")

---- waveform::decode::decode::tests::decode_prefers_wav_reader_when_valid stdout ----

thread 'waveform::decode::decode::tests::decode_prefers_wav_reader_when_valid' (8156) panicked at src\waveform\decode\decode.rs:86:9:
assertion `left == right` failed
  left: 1
 right: 0

---- waveform::decode::decode::tests::decode_falls_back_to_rodio_when_wav_invalid stdout ----

thread 'waveform::decode::decode::tests::decode_falls_back_to_rodio_when_wav_invalid' (15244) panicked at src\waveform\decode\decode.rs:107:9:
assertion `left == right` failed
  left: 1
 right: 0

---- wav_sanitize::tests::test_open_sanitized_wav_chained stdout ----

thread 'wav_sanitize::tests::test_open_sanitized_wav_chained' (28548) panicked at src\wav_sanitize.rs:404:9:
assertion `left == right` failed
  left: 62
 right: 58


failures:
    egui_app::controller::library::similarity_prep::state::tests::initial_state_sets_stage_and_skip_backfill
    egui_app::controller::tests::browser_actions::focused_row_actions_work_without_explicit_selection
    egui_app::controller::tests::browser_core::left_tagging_from_keep_untags_then_trashes
    egui_app::controller::tests::browser_core::tagging_keeps_selection_on_same_sample
    egui_app::controller::tests::focus_random::tag_hotkeys_apply_to_collection_focus
    egui_app::controller::tests::folders_core::deleting_folder_removes_wavs
    issue_gateway::token_store::tests::fallback_get_migrates_legacy_key_file
    issue_gateway::token_store::tests::fallback_get_rejects_corrupted_payload
    issue_gateway::token_store::tests::fallback_get_rejects_oversized_payload
    issue_gateway::token_store::tests::fallback_is_only_used_when_explicitly_allowed
    issue_gateway::token_store::tests::fallback_roundtrip_when_keyring_disabled
    issue_gateway::token_store::tests::fallback_warns_when_active
    issue_gateway::token_store::tests::set_empty_token_clears_storage
    sample_sources::config::config_io::tests::legacy::migrates_from_legacy_json
    sample_sources::config::config_io::tests::load::apply_app_data_dir_copies_settings_when_missing
    sample_sources::library::tests::database_lives_under_app_root
    sample_sources::library::tests::migrates_legacy_collection_export_paths
    sample_sources::library::tests::migrates_legacy_schema_to_latest
    updater::apply::tests::apply_files_and_dirs_removes_stale_files_from_prior_manifest
    updater::apply::tests::apply_files_and_dirs_removes_stale_resources_dir
    updater::tests::ensure_child_path_allows_relative_path
    wav_sanitize::tests::test_open_sanitized_wav_chained
    waveform::decode::decode::tests::decode_falls_back_to_rodio_when_wav_invalid
    waveform::decode::decode::tests::decode_prefers_wav_reader_when_valid

test result: FAILED. 591 passed; 24 failed; 0 ignored; 0 measured; 0 filtered out; finished in 13.35s

error: test failed, to rerun pass `--lib`
